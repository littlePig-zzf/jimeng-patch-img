# Vidu 图生视频批量插件（简化版）

基于你提供的 Playwright 录制代码，这个浏览器插件可以在 Vidu 国内版图生视频页面批量上传首帧并填写提示词，只保留悬浮窗口功能。

## 功能特点

- 🎯 **悬浮窗口界面** - 在网页上直接操作，可拖拽移动位置
- ⏱️ **自定义等待时间** - 每个镜头可设置3-30秒的等待时间
- 📁 **自动选择图片文件夹** - 支持按001.jpg, 002.jpg等命名格式排序
- 📝 **批量输入提示词** - 每行对应一个图片的提示词
- 🔄 **自动提交流程** - 包括上传图片、输入提示词、点击“创作”
- ✅ **连续处理** - 完成一个镜头后自动处理下一个

## 使用方法

### 简化版悬浮窗口

1. **安装扩展** - 在Chrome中加载这个扩展
2. **访问 Vidu** - 打开 Vidu 图生视频页面（会自动显示悬浮窗口）
3. **点击插件图标** - 如果悬浮窗口被关闭，点击浏览器工具栏图标重新打开
4. **使用悬浮窗口**：
   - 点击"选择文件夹"选择包含图片的文件夹
   - 设置每个镜头的等待时间（默认3秒，可自定义3-30秒）
   - 粘贴提示词文本（每行对应一个图片）
   - 点击"开始自动提交"
5. **窗口操作**：
   - **拖拽移动** - 点击标题栏拖动窗口
   - **最小化** - 点击 − 按钮折叠窗口
   - **还原** - 点击 □ 按钮展开窗口
   - **关闭** - 点击 × 按钮关闭窗口
6. **重新打开** - 关闭后点击浏览器工具栏插件图标即可重新打开

## 悬浮窗口功能

### 界面组件
- **可拖拽标题栏** - 移动窗口位置
- **版本显示** - 标题栏显示版本信息
- **文件夹选择** - 支持多选图片文件
- **等待时间设置** - 输入框调整（3-30秒）
- **提示词输入框** - 多行文本输入
- **实时状态显示** - 显示处理进度和结果

### 操作说明
- **拖拽移动**：点击标题栏拖动窗口到任意位置
- **最小化/还原**：点击标题栏的 −/□ 按钮折叠/展开窗口
- **关闭窗口**：点击 × 按钮完全关闭窗口
- **保存设置**：所有设置自动保存到本地存储
- **一键清空**：快速重置所有输入内容

## 自动化流程

插件会自动执行以下步骤：

1. **上传首帧图片** - 选择对应的上传区域
2. **输入提示词** - 在提示词输入框填入对应文本
3. **点击“创作”** - 使用记录的按钮定位方式
4. **等待完成** - 使用自定义等待时间
5. **继续下一个** - 重复上述步骤处理下一个图片

## 文件结构

```
vidu-batch/
├── manifest.json          # 插件配置文件
├── floating-window.js     # 悬浮窗口实现
├── content.js            # 页面自动化脚本
├── background.js         # 后台脚本（处理图标点击）
├── test-automation.js    # Playwright测试脚本
└── README.md            # 使用说明
```

## 安装步骤

1. 打开Chrome浏览器，访问 `chrome://extensions/`
2. 开启右上角的"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择包含这些文件的文件夹

## 准备图片和提示词

- 将图片命名为 `001.jpg`, `002.jpg`, `003.jpg` 等
- 准备提示词文本，每行对应一个图片：
  ```
  第一个图片的提示词
  第二个图片的提示词
  第三个图片的提示词
  ```

## 设置等待时间

- **默认3秒** - 适合网络良好环境
- **网络较慢** - 可设置为10-15秒
- **根据生成复杂度** - 调整服务器响应时间

## 故障排除

- **悬浮窗口未显示** - 刷新页面或点击插件图标重新打开
- **提示词输入错误** - 检查控制台输出的调试信息
- **图片未上传** - 确认图片格式和大小符合要求
- **等待时间过短** - 增加等待时间设置
- **提示词数量不匹配** - 确保每行一个提示词

## 技术实现

基于你提供的Playwright录制代码，插件使用：
- Chrome Extension API
- 原生JavaScript悬浮窗口
- 智能输入框定位
- 本地存储设置
- DOM操作和事件触发

## 版本信息

**当前版本：v1.1**
- ✅ 移除右上角弹窗功能
- ✅ 只保留悬浮窗口
- ✅ 点击插件图标重新打开窗口
- ✅ 修复提示词输入框定位
